---
role:
  pkg:
    - name: ruby
      action: install
      os: ["!darwin"]
    - name: ruby # rbenv/rvm, ruby-build
      action: install
      os: ["darwin"]
      args: --with-openssl-dir="$(brew --prefix openssl)"

    - name: build-essential
      os: ["debian"]
    # - name: ruby-rdoc # ri...
    #   os: ["alpine"]
    # Install header files for ruby
    - name: ruby-dev # $(ruby -e 'puts RUBY_VERSION[/\\d+\\.\\d+/]')-dev
      # rubygems, libgemplugin-ruby
      os: ["alpine", "debian"]
    # - name:
    #   - ruby-devel
    #   - ruby-irb
    #   - ruby-rdoc
    #   - ruby-ri
    #   os: ["centos"]

    # - name: rubygems
    #   os: ["cygwin"]
    # https://bundler.io/
    # Manage gems with pacman on arch: ruby-<gem>
    # https://wiki.archlinux.org/index.php/Ruby#Managing_RubyGems_using_pacman
    # https://github.com/anatol/quarry
    # - name: ruby-bundler # rubygems
    #   os: ["arch"]
  link:
    - .gemrc
  post_install: # $HOME/.gem/....
    # - GEM_HOME=$(ruby -e 'print Gem.user_dir')
    # - PATH="$PATH:$GEM_HOME/bin"
    - ruby --version
    - gem --version
    # - gem env gemdir
    # - gem env gempath
    # - gem env
    # - command: gem install --bindir /usr/local/bin --quiet bundler
    #   os: ["!arch"]
